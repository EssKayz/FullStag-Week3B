{"version":3,"sources":["components/Person.js","components/Numbers.js","services/persons.js","components/App.js","index.js"],"names":["Person","props","react_default","a","createElement","name","number","onClick","rem","Numbers","numbas","ppl","filter","p","toLowerCase","includes","searchName","map","i","components_Person","key","id","Fragment","baseUrl","services_persons","axios","get","newObject","post","put","concat","delete","Notification","_ref","message","style","className","AddPersonForm","onSubmit","addNewName","App_InputField","event","handleNameChange","value","newName","newNumber","handleNumberChange","type","Filter","val","inpVal","InputField","onChange","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setSearchName","_useState7","_useState8","setNewNumber","_useState9","_useState10","messageBox","setMessage","_useState11","_useState12","messageBoxStyle","setMessageStyle","hook","personService","then","response","console","log","data","useEffect","App_Notification","App_Filter","target","App_AddPersonForm","preventDefault","newp","xd","find","undefined","window","confirm","res","setTimeout","catch","error","components_Numbers","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.237a9026.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = (props) => {\r\n    return (\r\n        <li>\r\n            {props.name} {props.number}\r\n            <button onClick={() => {props.rem(props)}}>Remove</button> \r\n        </li> \r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\nconst Numbers = (props) => {\r\n    const numbas = props.ppl\r\n        .filter(p => p.name.toLowerCase().includes(props.searchName.toLowerCase()))\r\n        .map((p, i) => <Person key={i} id={p.id} rem={props.rem} name={p.name} number={p.number} />)\r\n\r\n    return (\r\n        <>\r\n            <ul>\r\n                {numbas}\r\n            </ul>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Numbers","import axios from 'axios'\r\nconst baseUrl = 'https://damp-refuge-10247.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst del = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    create: create,\r\n    update: update,\r\n    delete: del\r\n}","import React, { useState, useEffect } from 'react'\r\nimport Numbers from './Numbers'\r\nimport personService from '../services/persons'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [searchName, setSearchName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [messageBox, setMessage] = useState(null)\r\n    const [messageBoxStyle, setMessageStyle] = useState(null)\r\n\r\n    const hook = () => {\r\n        personService.getAll()\r\n            .then(response => {\r\n                console.log('promise fulfilled')\r\n                console.log(response.data)\r\n                setPersons(response.data)\r\n            })\r\n    }\r\n\r\n    useEffect(hook, [])\r\n\r\n    const rem = (props) => {\r\n        setMessageStyle('message')\r\n        console.log(props)\r\n        personService.delete(props.id)\r\n            .then(res => { hook(); })\r\n            .then(res => {\r\n                console.log(props)\r\n                setMessage(`Removed ${props.name}`);\r\n                setTimeout(() => { setMessage(null) }, 3000)\r\n            }).catch(error => {\r\n                setMessageStyle('error')\r\n                setMessage(`${props.name} was already removed`);\r\n                setTimeout(() => { setMessage(null) }, 3000)\r\n            }).then(res => { hook(); })\r\n    }\r\n\r\n    const addNewName = (event) => {\r\n        event.preventDefault()\r\n        setMessageStyle('message')\r\n        console.log('nappia painettu', event.target)\r\n\r\n        const newp = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        const xd = persons.find(i => i.name === newp.name)\r\n        if (xd !== undefined) {\r\n            if (window.confirm(`${newName} is already on the list, do you want to replace with new number?`)) {\r\n                personService.update(xd.id, newp)\r\n                    .then(res => {\r\n                        hook();\r\n                        setMessage(`${newp.name}'s number was edited`)\r\n                        setTimeout(() => { setMessage(null) }, 3000)\r\n                    }).catch(error => {\r\n                        setMessageStyle('error')\r\n                        setMessage(`${newp.name} was already removed`);\r\n                        setTimeout(() => { setMessage(null) }, 3000)\r\n                    }).then(res => { hook(); })\r\n            }\r\n        } else {\r\n            personService.create(newp)\r\n                .then(res => { hook(); })\r\n                .then(res => {\r\n                    setMessage(`Added ${newName}`);\r\n                    setTimeout(() => { setMessage(null) }, 3000)\r\n                })\r\n        }\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleSearchChange = (event) => {\r\n        setSearchName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Puhelinluettelo</h2>\r\n            <Notification message={messageBox} style={messageBoxStyle} />\r\n            <Filter event={handleSearchChange} inpVal={searchName} />\r\n            <h3>lisää uusi</h3>\r\n\r\n            <AddPersonForm\r\n                addNewName={addNewName}\r\n                handleNameChange={handleNameChange} newName={newName}\r\n                handleNumberChange={handleNumberChange} newNumber={newNumber} />\r\n\r\n            <h2>Numerot</h2>\r\n            <Numbers ppl={persons} searchName={searchName} rem={rem} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Notification = ({ message, style }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst AddPersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.addNewName}>\r\n            <div>\r\n                nimi: <InputField event={props.handleNameChange} value={props.newName} />\r\n            </div>\r\n            <div>\r\n                numero: <InputField value={props.newNumber} event={props.handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">lisää</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n            rajaa naitettavia: <InputField val={props.inpVal} event={props.event} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst InputField = (props) => {\r\n    return (\r\n        <>\r\n            <input value={props.val} onChange={props.event} />\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App.js'\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}