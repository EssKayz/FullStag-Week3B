(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(39)},37:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),l=t(11),c=t.n(l),r=t(2),o=function(e){return u.a.createElement("li",null,e.name," ",e.number,u.a.createElement("button",{onClick:function(){e.rem(e)}},"Remove"))},i=function(e){var n=e.ppl.filter(function(n){return n.name.toLowerCase().includes(e.searchName.toLowerCase())}).map(function(n,t){return u.a.createElement(o,{key:t,id:n.id,rem:e.rem,name:n.name,number:n.number})});return u.a.createElement(u.a.Fragment,null,u.a.createElement("ul",null,n))},m=t(3),s=t.n(m),f="http://localhost:3001/api/persons",d=function(){return s.a.get(f)},v=function(e){return s.a.post(f,e)},h=function(e,n){return s.a.put("".concat(f,"/").concat(e),n)},b=function(e){return s.a.delete("".concat(f,"/").concat(e))},E=function(e){var n=e.message,t=e.style;return null===n?null:u.a.createElement("div",{className:t},n)},p=function(e){return u.a.createElement("form",{onSubmit:e.addNewName},u.a.createElement("div",null,"nimi: ",u.a.createElement(w,{event:e.handleNameChange,value:e.newName})),u.a.createElement("div",null,"numero: ",u.a.createElement(w,{value:e.newNumber,event:e.handleNumberChange})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},g=function(e){return u.a.createElement("div",null,"rajaa naitettavia: ",u.a.createElement(w,{val:e.inpVal,event:e.event}))},w=function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement("input",{value:e.val,onChange:e.event}))},N=function(){var e=Object(a.useState)([]),n=Object(r.a)(e,2),t=n[0],l=n[1],c=Object(a.useState)(""),o=Object(r.a)(c,2),m=o[0],s=o[1],f=Object(a.useState)(""),w=Object(r.a)(f,2),N=w[0],j=w[1],O=Object(a.useState)(""),y=Object(r.a)(O,2),C=y[0],S=y[1],T=Object(a.useState)(null),k=Object(r.a)(T,2),F=k[0],J=k[1],L=Object(a.useState)(null),R=Object(r.a)(L,2),V=R[0],x=R[1],A=function(){d().then(function(e){console.log("promise fulfilled"),console.log(e.data),l(e.data)})};Object(a.useEffect)(A,[]);return u.a.createElement("div",null,u.a.createElement("h2",null,"Puhelinluettelo"),u.a.createElement(E,{message:F,style:V}),u.a.createElement(g,{event:function(e){j(e.target.value)},inpVal:N}),u.a.createElement("h3",null,"lis\xe4\xe4 uusi"),u.a.createElement(p,{addNewName:function(e){e.preventDefault(),x("message"),console.log("nappia painettu",e.target);var n={name:m,number:C},a=t.find(function(e){return e.name===n.name});void 0!==a?window.confirm("".concat(m," is already on the list, do you want to replace with new number?"))&&h(a.id,n).then(function(e){A(),J("".concat(n.name,"'s number was edited")),setTimeout(function(){J(null)},3e3)}).catch(function(e){x("error"),J("".concat(n.name," was already removed")),setTimeout(function(){J(null)},3e3)}).then(function(e){A()}):v(n).then(function(e){A()}).then(function(e){J("Added ".concat(m)),setTimeout(function(){J(null)},3e3)})},handleNameChange:function(e){s(e.target.value)},newName:m,handleNumberChange:function(e){S(e.target.value)},newNumber:C}),u.a.createElement("h2",null,"Numerot"),u.a.createElement(i,{ppl:t,searchName:N,rem:function(e){x("message"),console.log(e),b(e.id).then(function(e){A()}).then(function(n){console.log(e),J("Removed ".concat(e.name)),setTimeout(function(){J(null)},3e3)}).catch(function(n){x("error"),J("".concat(e.name," was already removed")),setTimeout(function(){J(null)},3e3)}).then(function(e){A()})}}))};t(37);c.a.render(u.a.createElement(N,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.2de16065.chunk.js.map